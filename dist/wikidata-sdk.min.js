!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).wdk=e()}}(function(){return function s(o,a,u){function l(t,e){if(!a[t]){if(!o[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(c)return c(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var n=a[t]={exports:{}};o[t][0].call(n.exports,function(e){return l(o[t][1][e]||e)},n,n.exports,s,o,a,u)}return a[t].exports}for(var c="function"==typeof require&&require,e=0;e<u.length;e++)l(u[e]);return l}({1:[function(e,t,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],r=!0,n=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(i.push(o.value),!t||i.length!==t);r=!0);}catch(e){n=!0,s=e}finally{try{!r&&a.return&&a.return()}finally{if(n)throw s}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=e("./wikidata_time_to_date_object"),s={isNumericId:function(e){return/^[1-9][0-9]*$/.test(e)},isEntityId:function(e){return/^(Q|P)[1-9][0-9]*$/.test(e)},isItemId:function(e){return/^Q[1-9][0-9]*$/.test(e)},isPropertyId:function(e){return/^P[1-9][0-9]*$/.test(e)},isGuid:function(e){return/^(Q|P|L)\d+\$[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e)},isRevisionId:function(e){return/^\d+$/.test(e)},getNumericId:function(e){if(!s.isEntityId(e))throw new Error("invalid wikidata id: "+e);return e.replace(/Q|P/,"")}};s.wikidataTimeToDateObject=r;var o=function(e){return function(t){try{return e(t)}catch(e){var i=(t=t.time||t)[0],r=t.slice(1).split("T"),n=a(r,2),s=n[0],o=n[1];return""+i+(s=s.replace(/-00/g,"-01"))+"T"+o}}};s.wikidataTimeToEpochTime=o(function(e){return r(e).getTime()}),s.wikidataTimeToISOString=o(function(e){return r(e).toISOString()}),s.wikidataTimeToSimpleDay=o(function(e){if("object"===(void 0===e?"undefined":n(e))){var t=e,i=t.time,r=t.precision;e=9===r?i.replace("-01-01T","-00-00T"):10===r?i.replace("-01T","-00T"):i}return e.split("T")[0].replace(/^\+/,"").replace(/^(-?)0+/,"$1").replace(/-00$/,"").replace(/-00$/,"")}),s.getImageUrl=function(e,t){var i="https://commons.wikimedia.org/wiki/Special:FilePath/"+e;return"number"==typeof t&&(i+="?width="+t),i},t.exports=s},{"./wikidata_time_to_date_object":11}],2:[function(e,t,i){"use strict";var r=e("./helpers"),n=r.wikidataTimeToISOString,s=r.wikidataTimeToEpochTime,o=r.wikidataTimeToSimpleDay,a=function(e){return e.value},u=function(e,t){return c(e,t.entityPrefix)},l={item:"Q",lexeme:"L",property:"P"},c=function(e,t){var i=e.value,r=i.id||l[i["entity-type"]]+i["numeric-id"];return"string"==typeof t?t+":"+r:r},f=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"iso",t=p[e];if(!t)throw new Error("invalid converter key: "+JSON.stringify(e).substring(0,100));return t},p={iso:n,epoch:s,"simple-day":o,none:function(e){return e.time||e}},y={string:a,commonsMedia:a,url:a,"external-id":a,math:a,monolingualtext:function(e,t){return t.keepRichValues?e.value:e.value.text},"wikibase-item":u,"wikibase-lexeme":u,"wikibase-property":u,time:function(e,t){return"function"==typeof t.timeConverter?t.timeConverter(e.value):f(t.timeConverter)(e.value)},quantity:function(e,t){var i=e.value,r=parseFloat(i.amount);return t.keepRichValues?{amount:parseFloat(i.amount),unit:i.unit.replace("http://www.wikidata.org/entity/",""),upperBound:parseFloat(i.upperBound),lowerBound:parseFloat(i.lowerBound)}:r},"globe-coordinate":function(e){return[e.value.latitude,e.value.longitude]},"geo-shape":a,"tabular-data":a,"musical-notation":a};t.exports={parsers:y,parse:function(t,e,i,r){if(!t)return console.error("invalid claim",r),null;try{return y[t](e,i)}catch(e){throw"parsers[datatype] is not a function"===e.message&&(e.message=t+" claim parser isn't implemented\n        Claim id: "+r+"\n        Please report to https://github.com/maxlath/wikidata-sdk/issues"),e}}}},{"./helpers":1}],3:[function(e,t,i){"use strict";var r=e("./simplify_entity").simplifyEntity;t.exports={wd:{entities:function(e){var t=(e=e.body||e).entities;return Object.keys(t).forEach(function(e){t[e]=r(t[e])}),t}}}},{"./simplify_entity":5}],4:[function(e,t,i){"use strict";var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],r=!0,n=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(i.push(o.value),!t||i.length!==t);r=!0);}catch(e){n=!0,s=e}finally{try{!r&&a.return&&a.return()}finally{if(n)throw s}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j=e("./parse_claim").parse,u=e("../utils/utils").uniq,x=function(e){for(var t=arguments.length,i=Array(1<t?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];var n=S(i).propertyPrefix,s={};for(var o in e){var a=e[o];n&&(o=n+":"+o),s[o]=l.apply(void 0,[a].concat(i))}return s},l=function(e){for(var t=arguments.length,i=Array(1<t?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];if(null==e||0===e.length)return[];var n=S(i),s=n.keepNonTruthy,o=n.areSubSnaks;return s||o||(e=c(e)),(e=e.map(function(e){return p.apply(void 0,[e].concat(i))}).filter(f))[0]&&"object"!==a(e[0])?u(e):e},n=function(e,t){var i=t.rank;return e[i]||(e[i]=[]),e[i].push(t),e},c=function(e){var t=e.reduce(n,{});return t.preferred||t.normal||[]},f=function(e){return void 0!==e},p=function(e){for(var t=arguments.length,i=Array(1<t?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];i=S(i);var n,s,o,a,u,l,c=E(i),f=c.keepQualifiers,p=c.keepReferences,y=c.keepIds,m=c.keepHashes,d=c.keepTypes,v=c.keepSnaktypes,h=c.keepRanks,g=e.mainsnak,w=e.rank;if(g?(s=g.datatype,o=g.datavalue,a=g.snaktype):(o=e.datavalue,s=e.datatype,a=e.snaktype,e.hash?u=!0:l=!0),o)n=j(s,o,i,e.id);else if("somevalue"===a)n=i.somevalueValue;else{if("novalue"!==a)throw new Error("no datavalue or special snaktype found");n=i.novalueValue}if(u){if(!(m||d||v))return n;var b={value:n};return m&&(b.hash=e.hash),d&&(b.type=s),v&&(b.snaktype=a),b}if(l)return d?{type:s,value:n}:n;if(!(f||p||y||d||v||h))return n;var k={value:n};d&&(k.type=s),v&&(k.snaktype=a),h&&(k.rank=w);var _=q(i);return _.keepHashes=m,f&&(k.qualifiers=x(e.qualifiers,_)),p&&(e.references=e.references||[],k.references=e.references.map(function(e){var t=x(e.snaks,_);return m?{snaks:t,hash:e.hash}:t})),y&&(k.id=e.id),k},S=function(e){if(null==e)return{};if(e[0]&&"object"===a(e[0]))return e[0];var t=r(e,3);return{entityPrefix:t[0],propertyPrefix:t[1],keepQualifiers:t[2]}},q=function(e){return Object.assign({},e,{areSubSnaks:!0})},s=["keepQualifiers","keepReferences","keepIds","keepHashes","keepTypes","keepSnaktypes","keepRanks"],E=function(t){return t.keepAll&&s.forEach(function(e){null==t[e]&&(t[e]=!0)}),t};t.exports={simplifyClaims:x,simplifyPropertyClaims:l,simplifyClaim:p,truthyClaims:function(t){var i={};return Object.keys(t).forEach(function(e){i[e]=c(t[e])}),i},truthyPropertyClaims:c,simplifyQualifiers:function(e,t){return x(e,q(t))},simplifyPropertyQualifiers:function(e,t){return l(e,q(t))},simplifyQualifier:p}},{"../utils/utils":23,"./parse_claim":2}],5:[function(e,t,i){"use strict";var r=e("./simplify_claims").simplifyClaims,n=e("./simplify_text_attributes"),s=e("./simplify_sitelinks"),o=function(e,t){var i={id:e.id,type:e.type,modified:e.modified};return a(e,i,"labels"),a(e,i,"descriptions"),a(e,i,"aliases"),null!=e.claims&&(i.claims=r(e.claims,t)),null!=e.sitelinks&&(i.sitelinks=s(e.sitelinks,t)),i},a=function(e,t,i){null!=e[i]&&(t[i]=n[i](e[i]))};t.exports={simplifyEntity:o,simplifyEntities:function(r){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},s=n.entityPrefix;return Object.keys(r).reduce(function(e,t){var i=r[t];return s&&(t=s+":"+t),e[t]=o(i,n),e},{})}}},{"./simplify_claims":4,"./simplify_sitelinks":6,"./simplify_text_attributes":8}],6:[function(e,t,i){"use strict";var s=e("./sitelinks_helpers").getSitelinkUrl;t.exports=function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).addUrl;return Object.keys(e).reduce(r(e,t),{})};var r=function(r,n){return function(e,t){var i=r[t].title;return e[t]=n?{title:i,url:s(t,i)}:i,e}}},{"./sitelinks_helpers":9}],7:[function(e,t,i){"use strict";t.exports=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof e&&(e=JSON.parse(e));var i=e.head.vars,r=e.results.bindings;if(1===i.length&&!0===t.minimize){var n=i[0];return r.map(function(e){return h(e[n])}).filter(function(e){return null!=e})}var s=c(i),o=s.richVars,a=s.standaloneVars;return r.map(m(o,a))};var h=function(e){if(e){var t=e.datatype;return t=t&&t.replace("http://www.w3.org/2001/XMLSchema#",""),(r[e.type]||s(t))(e)}},r={uri:function(e){return u(e.value)},bnode:function(){return null}},n=function(e){return parseFloat(e.value)},s=function(e){return e=e&&e.replace("http://www.w3.org/2001/XMLSchema#",""),o[e]||a},o={decimal:n,integer:n,float:n,double:n,boolean:function(e){return"true"===e.value}},a=function(e){return e.value},u=function(e){return e.startsWith("http://www.wikidata.org/entity/statement/")?l(e):e.replace("http://www.wikidata.org/entity/","").replace("http://www.wikidata.org/prop/direct/","")},l=function(e){var t=(e=e.replace("http://www.wikidata.org/entity/statement/","")).split("-");return t[0]+"$"+t.slice(1).join("-")},c=function(e){return e.reduce(f(e),{richVars:[],standaloneVars:[]})},f=function(r){return function(e,t){if(r.some(y(t)))return e.richVars.push(t),e;if(!p.test(t))return e.standaloneVars.push(t),e;var i=t.replace(p,"$1").replace(/Alt$/,"");return r.includes(i)||e.standaloneVars.push(t),e}},p=/^(\w+)(Label|Description|AltLabel)$/,y=function(t){return function(e){return t+"Label"===e||(t+"Description"===e||t+"AltLabel"===e)}},m=function(d,v){return function(e){var t={},i=!0,r=!1,n=void 0;try{for(var s,o=d[Symbol.iterator]();!(i=(s=o.next()).done);i=!0){var a=s.value,u=h(e[a]);null!=u&&(t[a]={value:u},g(e,a,"label",t[a]),g(e,a,"description",t[a]),g(e,a,"aliases",t[a]))}}catch(e){r=!0,n=e}finally{try{!i&&o.return&&o.return()}finally{if(r)throw n}}var l=!0,c=!1,f=void 0;try{for(var p,y=v[Symbol.iterator]();!(l=(p=y.next()).done);l=!0){var m=p.value;t[m]=h(e[m])}}catch(e){c=!0,f=e}finally{try{!l&&y.return&&y.return()}finally{if(c)throw f}}return t}},g=function(e,t,i,r){var n=e[t+d[i]];null!=n&&(r[i]=n.value)},d={label:"Label",description:"Description",aliases:"AltLabel"}},{}],8:[function(e,t,i){"use strict";var r=function(t){return function(e){return Object.keys(e).reduce(n(e,t),{})}},n=function(r,n){return function(e,t){var i=r[t];return e[t]=n?i.map(s):i.value,e}},s=function(e){return e.value},o=r(!1);t.exports={labels:o,descriptions:o,aliases:r(!0)}},{}],9:[function(e,t,i){"use strict";var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],r=!0,n=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(i.push(o.value),!t||i.length!==t);r=!0);}catch(e){n=!0,s=e}finally{try{!r&&a.return&&a.return()}finally{if(n)throw s}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=e("../utils/utils"),s=r.fixedEncodeURIComponent,o=r.replaceSpaceByUnderscores,u=r.isPlainObject,n=e("./helpers").isPropertyId,l="https://www.wikidata.org/wiki/",c=e("./sitelinks_languages"),f=function(t){return function(e){return"https://"+t+".wikimedia.org/wiki/"+e}},p={commons:f("commons"),mediawiki:function(e){return"https://www.mediawiki.org/wiki/"+e},meta:f("meta"),species:f("species"),wikidata:function(e){return n(e)?l+"Property:"+e:""+l+e},wikimania:f("wikimania")},y=function(e){var t=m[e];if(t)return{lang:"en",project:t};var i=e.split("wik"),r=a(i,3),n=r[0],s=r[1];if(null!=r[2])throw new Error("invalid sitelink: "+e);if(-1===c.indexOf(n))throw new Error("sitelink lang not found: "+n);var o=d[s];if(!o)throw new Error("sitelink project not found: "+o);return{lang:n,project:o}},m={commonswiki:"commons",mediawikiwiki:"mediawiki",metawiki:"meta",specieswiki:"specieswiki",wikidatawiki:"wikidata",wikimaniawiki:"wikimania"},d={i:"wikipedia",isource:"wikisource",iquote:"wikiquote",tionary:"wiktionary",ibooks:"wikibooks",iversity:"wikiversity",ivoyage:"wikivoyage",inews:"wikinews"};t.exports={getSitelinkUrl:function(e,t){if(u(e)&&(t=e.title,e=e.site),!e)throw new Error("missing a site");if(!t)throw new Error("missing a title");var i=e.replace(/wiki$/,""),r=p[i]||p[e];if(r)return r(t);var n=y(e);return"https://"+n.lang+"."+n.project+".org/wiki/"+(t=s(o(t)))},getSitelinkData:y,isSitelinkKey:function(e){try{return y(e),!0}catch(e){return!1}}}},{"../utils/utils":23,"./helpers":1,"./sitelinks_languages":10}],10:[function(e,t,i){"use strict";t.exports=["aa","ab","af","ak","als","am","ang","an","ar","ast","as","av","ay","az","ba","be","bg","bh","bi","bm","bn","bo","br","bs","ca","chr","ch","co","cr","csb","cs","cv","cy","da","de","dv","dz","el","en","eo","es","et","eu","fa","fi","fj","fo","fr","fy","ga","gd","gl","gn","got","gu","gv","ha","he","hif","hi","hr","hsb","ht","hu","hy","ia","id","ie","ik","io","is","it","iu","ja","jbo","jv","ka","kk","kl","km","kn","ko","kr","ks","ku","kw","ky","la","lb","li","ln","lo","lt","lv","mg","mh","mi","mk","ml","mn","mo","mr","ms","mt","my","nah","na","nds","ne","nl","nn","no","oc","om","or","pa","pi","pl","pms","pnb","ps","pt","qu","rm","rn","roa_rup","ro","ru","rw","sah","sa","scn","sc","sd","se","sg","sh","simple","si","sk","sl","sm","sn","so","sq","sr","ss","st","su","sv","sw","ta","te","tg","th","ti","tk","tl","tn","to","tpi","tr","ts","tt","tw","ug","uk","ur","uz","vec","vi","vo","wa","wo","xh","yi","yo","yue","za","zh_min_nan","zh","zu","ace","arc","arz","bar","bat_smg","bcl","be_x_old","bjn","bpy","bug","bxr","cbk_zam","cdo","ce","ceb","cho","chy","ckb","crh","cu","diq","dsb","ee","eml","ext","ff","fiu_vro","frp","frr","fur","gag","gan","glk","hak","haw","ho","hz","ig","ii","ilo","kaa","kab","kbd","kg","ki","kj","koi","krc","ksh","kv","lad","lbe","lez","lg","lij","lmo","ltg","mai","map_bms","mdf","mhr","min","mrj","mus","mwl","myv","mzn","nap","nds_nl","new","ng","nov","nrm","nso","nv","ny","os","pag","pam","pap","pcd","pdc","pfl","pih","pnt","rmy","roa_tara","rue","sco","srn","stq","szl","tet","tum","ty","tyv","udm","ve","vep","vls","war","wuu","xal","xmf","zea","zh_classical","zh_yue","lrc","gom","azb","ady","jam","tcy","olo","dty","atj","kbp","din","gor","inh","lfn","sat","shn","hyw"]},{}],11:[function(e,t,i){"use strict";var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],r=!0,n=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(i.push(o.value),!t||i.length!==t);r=!0);}catch(e){n=!0,s=e}finally{try{!r&&a.return&&a.return()}finally{if(n)throw s}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.exports=function(e){"object"===(void 0===e?"undefined":a(e))&&(e=e.time);var t=e[0],i=e.slice(1).split("T"),r=o(i,2),n=r[0],s=r[1];return n=n.replace(/-00/g,"-01"),u(t,n+"T"+s)};var u=function(e,t){var i=t.split("-")[0];return"-"===e||4<i.length?r(e,t,i):new Date(t)},r=function(e,t,i){var r;return r=4===i.length?e+"00"+t:5===i.length?e+"0"+t:e+t,new Date(r)}},{}],12:[function(e,t,i){"use strict";var r=t.exports={};r.searchEntities=e("./queries/search_entities"),r.getEntities=e("./queries/get_entities"),r.getManyEntities=e("./queries/get_many_entities"),r.sparqlQuery=e("./queries/sparql_query"),r.getReverseClaims=e("./queries/get_reverse_claims"),r.getRevisions=e("./queries/get_revisions"),r.getEntityRevision=e("./queries/get_entity_revision"),r.getEntitiesFromSitelinks=e("./queries/get_entities_from_sitelinks"),r.getWikidataIdsFromSitelinks=r.getEntitiesFromSitelinks,r.parse=e("./helpers/parse_responses");var n=e("./helpers/simplify_claims"),s=e("./helpers/simplify_sparql_results");r.simplify=e("../lib/helpers/simplify_text_attributes");var o=e("../lib/helpers/simplify_entity"),a=o.simplifyEntity,u=o.simplifyEntities;r.simplify.entity=a,r.simplify.entities=u,r.simplify.claim=n.simplifyClaim,r.simplify.propertyClaims=n.simplifyPropertyClaims,r.simplify.claims=n.simplifyClaims,r.simplify.qualifier=n.simplifyQualifier,r.simplify.propertyQualifiers=n.simplifyPropertyQualifiers,r.simplify.qualifiers=n.simplifyQualifiers,r.simplify.sitelinks=e("../lib/helpers/simplify_sitelinks"),r.simplify.sparqlResults=s,r.simplifySparqlResults=e("./helpers/simplify_sparql_results"),Object.assign(r,n),r.getWikidataIdsFromWikipediaTitles=r.getWikidataIdsFromSitelinks;var l=e("../lib/helpers/helpers"),c=e("../lib/helpers/sitelinks_helpers");Object.assign(r,l,c)},{"../lib/helpers/helpers":1,"../lib/helpers/simplify_entity":5,"../lib/helpers/simplify_sitelinks":6,"../lib/helpers/simplify_text_attributes":8,"../lib/helpers/sitelinks_helpers":9,"./helpers/parse_responses":3,"./helpers/simplify_claims":4,"./helpers/simplify_sparql_results":7,"./queries/get_entities":13,"./queries/get_entities_from_sitelinks":14,"./queries/get_entity_revision":15,"./queries/get_many_entities":16,"./queries/get_reverse_claims":17,"./queries/get_revisions":18,"./queries/search_entities":19,"./queries/sparql_query":20}],13:[function(e,t,i){"use strict";var a=e("../utils/build_url"),r=e("../utils/utils"),u=r.isPlainObject,l=r.forceArray,c=r.shortLang;t.exports=function(e,t,i,r,n){if(u(e)){var s=e;e=s.ids,t=s.languages,i=s.props,r=s.format,n=s.redirects}if(r=r||"json",!(e&&0<e.length))throw new Error("no id provided");50<(e=l(e)).length&&console.warn("getEntities accepts 50 ids max to match Wikidata API limitations:\n      this request won't get all the desired entities.\n      You can use getManyEntities instead to generate several request urls\n      to work around this limitation");var o={action:"wbgetentities",ids:e.join("|"),format:r};return!1===n&&(o.redirects="no"),t&&(t=l(t).map(c),o.languages=t.join("|")),i&&0<i.length&&(o.props=l(i).join("|")),a(o)}},{"../utils/build_url":21,"../utils/utils":23}],14:[function(e,t,i){"use strict";var u=e("../utils/build_url"),r=e("../utils/utils"),l=r.isPlainObject,c=r.forceArray,f=r.shortLang;t.exports=function(e,t,i,r,n,s){if(l(e)){var o=e;e=o.titles,t=o.sites,i=o.languages,r=o.props,n=o.format,s=o.redirects}if(n=n||"json",!(e&&0<e.length))throw new Error("no title provided");t&&0<t.length||(t=["enwiki"]),e=c(e),t=c(t).map(p),r=c(r);var a={action:"wbgetentities",titles:e.join("|"),sites:t.join("|"),format:n};return 1===t.length&&1===e.length&&(a.normalize=!0),i&&(i=c(i).map(f),a.languages=i.join("|")),r&&0<r.length&&(a.props=r.join("|")),!1===s&&(a.redirects="no"),u(a)};var p=function(e){return 2===e.length?e+"wiki":e}},{"../utils/build_url":21,"../utils/utils":23}],15:[function(e,t,i){"use strict";var r=e("../helpers/helpers"),n=r.isEntityId,s=r.isRevisionId,o=e("../utils/utils").isPlainObject;t.exports=function(e,t){if(o(e)&&(t=e.revision,e=e.id),!n(e))throw new Error("invalid entity id: "+e);if(!s(t))throw new Error("invalid revision id: "+t);return"https://www.wikidata.org/w/index.php?title=Special:EntityData/"+e+".json&oldid="+t}},{"../helpers/helpers":1,"../utils/utils":23}],16:[function(e,t,i){"use strict";var o=e("./get_entities"),a=e("../utils/utils").isPlainObject;t.exports=function(e,t,i,r,n){if(a(e)){var s=e;e=s.ids,t=s.languages,i=s.props,r=s.format,n=s.redirects}if(!(e instanceof Array))throw new Error("getManyEntities expects an array of ids");return u(e).map(function(e){return o(e,t,i,r,n)})};var u=function(e){for(var t=[];0<e.length;){var i=e.slice(0,50);e=e.slice(50),t.push(i)}return t}},{"../utils/utils":23,"./get_entities":13}],17:[function(e,t,i){"use strict";var r=e("../helpers/helpers"),a=e("./sparql_query");function u(e){return r.isItemId(e)?e="wd:"+e:"string"==typeof e&&(e="'"+e+"'"),e}function l(e,t,i,r){return"?subject "+e+" "+t+" .\n    "+i}function c(e,t,i,r){return"?subject "+e+" ?value .\n    FILTER (lcase(?value) = "+t.toLowerCase()+")\n    "+i}t.exports=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=i.limit,n=i.caseInsensitive,s=i.keepProperties?"":"FILTER NOT EXISTS { ?subject rdf:type wikibase:Property . } ",o="SELECT DISTINCT ?subject WHERE { "+function(e,t,i,r){if(!(e instanceof Array))return t(i,u(e),r);return"{ "+e.map(u).map(function(e){return t(i,e,r)}).join("} UNION {")+" }"}(t,n?c:l,e=e instanceof Array?e.map(f).join("|"):f(e),s)+" }";return r&&(o+=" LIMIT "+r),a(o)};var f=function(e){return"wdt:"+e}},{"../helpers/helpers":1,"./sparql_query":20}],18:[function(e,t,i){"use strict";var n=e("../utils/build_url"),s=e("../utils/utils").forceArray;t.exports=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=1===(e=s(e)).length,r={action:"query",prop:"revisions"};return r.titles=e.join("|"),r.format=t.format||"json",i&&(r.rvlimit=t.limit||"max"),i&&t.start&&(r.rvstart=o(t.start)),i&&t.end&&(r.rvend=o(t.end)),n(r)};var o=function(e){return"number"==typeof e&&e<r?e:Math.trunc(new Date(e).getTime()/1e3)},r=new Date("2000-01-01").getTime()},{"../utils/build_url":21,"../utils/utils":23}],19:[function(e,t,i){"use strict";var u=e("../utils/build_url"),l=e("../utils/utils").isPlainObject,c=["item","property","lexeme","form","sense"];t.exports=function(e,t,i,r,n){var s,o;if(l(e)){var a=e;e=a.search,t=a.language,i=a.limit,o=a.continue,r=a.format,n=a.uselang,s=a.type}if(!(e&&0<e.length))throw new Error("search can't be empty");if(t=t||"en",n=n||t,i=i||"20",r=r||"json",s=s||"item",!c.includes(s))throw new Error("invalid type: "+s);return u({action:"wbsearchentities",search:e,language:t,limit:i,continue:o,format:r,uselang:n,type:s})}},{"../utils/build_url":21,"../utils/utils":23}],20:[function(e,t,i){"use strict";var r=e("../utils/utils").fixedEncodeURIComponent;t.exports=function(e){return"https://query.wikidata.org/sparql?format=json&query="+r(e)}},{"../utils/utils":23}],21:[function(e,t,i){"use strict";var r="undefined"!=typeof location&&"undefined"!=typeof document,n=e(r?"./querystring_lite":"querystring");t.exports=function(e){return r&&(e.origin="*"),"https://www.wikidata.org/w/api.php?"+n.stringify(e)}},{"./querystring_lite":22,querystring:26}],22:[function(e,t,i){"use strict";t.exports={stringify:function(e){var t="";for(var i in e){var r=e[i];r&&(t+="&"+i+"="+r)}return t=t.slice(1),encodeURI?encodeURI(t):t}}},{}],23:[function(e,t,i){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.exports={shortLang:function(e){return e.toLowerCase().split(/[^a-z]/)[0]},forceArray:function(e){return"string"==typeof e&&(e=[e]),e||[]},isPlainObject:function(e){return!(!e||"object"!==(void 0===e?"undefined":r(e))||e instanceof Array)},fixedEncodeURIComponent:function(e){return encodeURIComponent(e).replace(/[!'()*]/g,n)},replaceSpaceByUnderscores:function(e){return e.replace(/\s/g,"_")},uniq:function(e){return Array.from(new Set(e))}};var n=function(e){return"%"+e.charCodeAt(0).toString(16)}},{}],24:[function(e,t,i){"use strict";t.exports=function(e,t,i,r){t=t||"&",i=i||"=";var n={};if("string"!=typeof e||0===e.length)return n;var s=/\+/g;e=e.split(t);var o=1e3;r&&"number"==typeof r.maxKeys&&(o=r.maxKeys);var a,u,l=e.length;0<o&&o<l&&(l=o);for(var c=0;c<l;++c){var f,p,y,m,d=e[c].replace(s,"%20"),v=d.indexOf(i);0<=v?(f=d.substr(0,v),p=d.substr(v+1)):(f=d,p=""),y=decodeURIComponent(f),m=decodeURIComponent(p),a=n,u=y,Object.prototype.hasOwnProperty.call(a,u)?h(n[y])?n[y].push(m):n[y]=[n[y],m]:n[y]=m}return n};var h=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],25:[function(e,t,i){"use strict";var s=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(i,r,n,e){return r=r||"&",n=n||"=",null===i&&(i=void 0),"object"==typeof i?a(u(i),function(e){var t=encodeURIComponent(s(e))+n;return o(i[e])?a(i[e],function(e){return t+encodeURIComponent(s(e))}).join(r):t+encodeURIComponent(s(i[e]))}).join(r):e?encodeURIComponent(s(e))+n+encodeURIComponent(s(i)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e,t){if(e.map)return e.map(t);for(var i=[],r=0;r<e.length;r++)i.push(t(e[r],r));return i}var u=Object.keys||function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.push(i);return t}},{}],26:[function(e,t,i){"use strict";i.decode=i.parse=e("./decode"),i.encode=i.stringify=e("./encode")},{"./decode":24,"./encode":25}]},{},[12])(12)});
