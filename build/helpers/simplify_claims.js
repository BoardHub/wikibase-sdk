// Generated by CoffeeScript 1.9.3
(function() {
  var simpifyClaim, simpifyStatement, wd_;

  wd_ = require('./helpers');

  module.exports = function(claims) {
    var claim, id, simpleClaims;
    simpleClaims = {};
    for (id in claims) {
      claim = claims[id];
      simpleClaims[id] = simpifyClaim(claim);
    }
    return simpleClaims;
  };

  simpifyClaim = function(claim) {
    var i, len, simpifiedStatement, simplifiedClaim, statement;
    simplifiedClaim = [];
    for (i = 0, len = claim.length; i < len; i++) {
      statement = claim[i];
      simpifiedStatement = simpifyStatement(statement);
      if (simpifiedStatement != null) {
        simplifiedClaim.push(simpifiedStatement);
      }
    }
    return simplifiedClaim;
  };

  simpifyStatement = function(statement) {
    var datatype, datavalue, mainsnak;
    mainsnak = statement.mainsnak;
    if (mainsnak == null) {
      return null;
    }
    datatype = mainsnak.datatype, datavalue = mainsnak.datavalue;
    if (datavalue == null) {
      return null;
    }
    switch (datatype) {
      case 'string':
      case 'commonsMedia':
      case 'url':
      case 'external-id':
        return datavalue.value;
      case 'monolingualtext':
        return datavalue.value.text;
      case 'wikibase-item':
        return 'Q' + datavalue.value['numeric-id'];
      case 'time':
        return wd_.normalizeWikidataTime(datavalue.value.time);
      default:
        return null;
    }
  };

}).call(this);
